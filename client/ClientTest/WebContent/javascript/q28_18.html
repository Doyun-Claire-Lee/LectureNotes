<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    <link rel="stylesheet" href="basic.css">
    <style>
        #btnList, #imgView {
            margin: 20px;
            text-align: center;
        }
        #imgView img {
            border: 1px solid #999;
        }
        #btnList input {
            border: 1px solid #ccc;
            background-color: white;
            width: 80px;
            height: 45px;
        }
        #btnList #btnstart {
            background-color: tomato;
            color: white;
        }
        #btnList input {
            cursor: pointer;
            outline: none;
        }
    </style>
</head>
<body>
        
    <div class="main m1200">
        <div class="mainHeader">
            <h1>이미지 뷰어</h1>
            <div>이미지 뷰어를 구현하시오.</div>
            <ul>
                <li>1초마다 순차적으로 이미지가 변경된다.</li>
                <li>▷/|| 버튼을 누르면 시작/멈춤을 제어한다.</li>
                <li>해당 버튼을 누르면 타이머는 중단되고 누른 이미지가 출력된다.</li>
            </ul>
            <div class="code">setInterval(), clearInterval()</div>
        </div>
        <div>
            <div id="btnList">
                <input type="button" name="btnstart" id="btnstart" value="▷">
                <input type="button" name="btn" data-no="wall01.jpg" value="[1]">
                <input type="button" name="btn" data-no="wall02.jpg" value="2">
                <input type="button" name="btn" data-no="wall03.jpg" value="3">
                <input type="button" name="btn" data-no="wall04.jpg" value="4">
                <input type="button" name="btn" data-no="wall05.jpg" value="5">
                <input type="button" name="btn" data-no="wall06.jpg" value="6">
                <input type="button" name="btn" data-no="wall07.jpg" value="7">
                <input type="button" name="btn" data-no="wall08.jpg" value="8">
                <input type="button" name="btn" data-no="wall09.jpg" value="9">
                <input type="button" name="btn" data-no="wall10.jpg" value="10">
            </div>
            <div id="imgView"><img src="../images/wall01.jpg" name="img1"></div>
        </div>
        <div class="script script29_2" style="left: -90px; top: 270px;">
            <div style="left: 60px; top: 80px;">				
                타이머의 시작과<br>
                멈춤을 제어<br>
                합니다.<br>
            </div>
        </div>
        <div class="script script42_1" style="left: 740px; top: 50px;">
            <div style="left: 30px; top: 100px;">				
                버튼을 누르면 버튼의 번호를<br>
                이미지의 파일명으로 사용합니다.
            </div>
        </div>
        <div class="script script29_3" style="left: 1085px; top: 380px;">
            <div style="left: 110px; top: 100px;">				
                wall01.jpg<br>
                wall02.jpg<br>
                ..<br>
                wall10.jpg<br>
            </div>
        </div>
    </div>
    <script>

        var btnstart = document.all.btnstart;
        var btn = document.all.btn;
        var img1 = document.images["img1"];
        var timer = 0;
        var n = 0;

        btnstart.onclick = function() {
            

            if (timer == 0) {
                btnstart.value = "||";

                timer = setInterval(function() {
                    //버튼 밸류 초기화
                    for (var i=0; i<btn.length; i++) {
                        btn[i].value = i+1;
                    }
                    
                    btn[n].value = "[" + btn[n].value + "]";
                    img1.src = "../images/" + btn[n].dataset["no"];
                    n++;
                    
                    if (n == 10) {
                        n = 0;
                    }
                }, 500)

            } else {

                btnstart.value = "▷";
                clearInterval(timer);
                timer = 0;
            }

            for (var i=0; i<btn.length; i++) {

                btn[i].onclick = function() {

                    btnstart.value = "▷";
                    clearInterval(timer);
                    timer = 0;
                    for (var j=0; j<btn.length; j++) {
                        btn[j].value = j+1;
                    }

                    img1.src = "../images/" + event.srcElement.dataset["no"];
                    n = event.srcElement.value - 1;
                    event.srcElement.value = "[" + event.srcElement.value + "]";

                }
            }

        }

    </script>
</body>
</html>